import{a as C,b as n,c as y,d as x,f as _,g as N,h as P,i as R,j as w,k as I}from"./chunk-3A6PEDGW.js";import{e as v,s as E}from"./chunk-EMZKZLT5.js";import{m as F,o as S}from"./chunk-Q2BWDDRH.js";import{Na as s,Oa as d,Ya as c,_a as p,ab as i,bb as e,cb as l,gb as f,hb as g,ib as r,jb as b,ma as u,pb as h}from"./chunk-YXUJRLCC.js";function D(m,a){if(m&1&&(i(0,"p",15),r(1),e()),m&2){let t=g();s(),b(t.fileError)}}var G=class m{constructor(a,t){this.fb=a;this.store=t;this.registerForm=this.fb.group({name:["",n.required],email:["",[n.required,n.email]],password:["",[n.required,n.minLength(6)]],phone:["",n.required],profilePic:[null,n.required]})}registerForm;fileError=null;selectedFile=null;onFileSelected(a){let t=a.target;if(!t.files||t.files.length===0){this.fileError="Please select a file.";return}let o=t.files[0];if(!o.type.startsWith("image/")){this.fileError="Only image files are allowed!",this.selectedFile=null;return}this.fileError=null,this.selectedFile=o,this.registerForm.patchValue({profilePic:this.selectedFile})}onSubmit(){this.registerForm.valid&&this.store.dispatch(E(this.registerForm.value))}static \u0275fac=function(t){return new(t||m)(d(R),d(v))};static \u0275cmp=u({type:m,selectors:[["app-register"]],standalone:!0,features:[h],decls:33,vars:3,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone",1,"form-control"],["for","profilePic",1,"form-label"],["type","file","id","profilePic","accept","image/*",1,"form-control",3,"change"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,o){t&1&&(l(0,"br")(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),i(6,"div",0)(7,"h2"),r(8,"Register"),e(),i(9,"form",1),f("ngSubmit",function(){return o.onSubmit()}),i(10,"div",2)(11,"label",3),r(12,"Name"),e(),l(13,"input",4),e(),i(14,"div",2)(15,"label",5),r(16,"Email"),e(),l(17,"input",6),e(),i(18,"div",2)(19,"label",7),r(20,"Password"),e(),l(21,"input",8),e(),i(22,"div",2)(23,"label",9),r(24,"Phone"),e(),l(25,"input",10),e(),i(26,"div",2)(27,"label",11),r(28,"Profile Picture"),e(),i(29,"input",12),f("change",function(q){return o.onFileSelected(q)}),e()(),c(30,D,2,1,"p",13),i(31,"button",14),r(32," Register "),e()()()),t&2&&(s(9),p("formGroup",o.registerForm),s(21),p("ngIf",o.fileError),s(),p("disabled",o.registerForm.invalid))},dependencies:[S,F,w,_,C,y,x,I,N,P]})};export{G as RegisterComponent};
